/*! digisheep 2016-12-10 */
window.onload=function(){function a(){x.load.spritesheet("sheep","app/assets/images/sheep32x32.png",32,32),x.load.spritesheet("burger","app/assets/images/burger32x32.png",32,32),x.load.spritesheet("heart","app/assets/images/heart32x32.png",32,32),x.load.spritesheet("book","app/assets/images/book32x32.png",32,32),x.load.audio("mie","app/assets/audio/sheep_voice.wav")}function b(){x.physics.startSystem(Phaser.Physics.ARCADE),x.stage.backgroundColor="#2d2d2d",x.stage.disableVisibilityChange=!0;r=x.add.sprite(0,0,"sheep"),r.scale.set(3),r.alignIn(x.world.bounds,Phaser.CENTER,0,0),r.smoothed=!1,r.animations.add("walk",[0,1]),r.animations.add("sleep",[2,3]),v=r.animations.add("eat",[4,5]),r.animations.add("read",[6,7]),r.inputEnabled=!0,r.events.onInputDown.add(j,this),s=x.add.audio("mie"),x.scale.fullScreenScaleMode=Phaser.ScaleManager.EXACT_FIT,u=x.add.sprite(0,0,"burger").alignIn(x.world.bounds,Phaser.BOTTOM_CENTER),u.scale.set(3),u.anchor.set(.5,.8),u.smoothed=!1,u.inputEnabled=!0,u.events.onInputDown.add(i,this)}function c(){e()?f()?n():d()?o():l():q()}function d(){const a=new Date,b=a.getHours();return b>=9&&10>b||b>=2&&4>b}function e(){const a=new Date,b=a.getHours();return b>=8&&22>b}function f(){return g()||h()}function g(){const a=new Date,b=a.getHours();return b>=12&&13>b}function h(){const a=new Date,b=a.getHours();return b>=6&&7>b}function i(a,b){C!==A&&(m(),v.onLoop.add(p,this),v.play(1,!0))}function j(a,b){s.play();const c=x.add.sprite(0,0,"heart");c.scale.set(3),c.alignTo(a,Phaser.TOP_CENTER,0,0),c.smoothed=!1,setTimeout(function(){c.destroy()},1e3)}function k(){C===A&&w.destroy()}function l(){C!==y&&(k(),r.animations.play("walk",1,!0),C=y)}function m(){w=x.add.sprite(0,0,"burger"),w.scale.set(3),w.alignTo(r,Phaser.RIGHT_BOTTOM,-32,0),w.smoothed=!1}function n(){C!==A&&(m(),r.animations.play("eat",1,!0),C=A)}function o(){C!==B&&(t=x.add.sprite(0,0,"book"),t.anchor.set(.5),t.scale.set(3),t.alignTo(r,Phaser.TOP_CENTRAL,0,0),t.smoothed=!1,r.animations.play("read",1,!0),C=B)}function p(a,b){3===b.loopCount&&(w.destroy(),b.loop=!1,C=null)}function q(){C!==z&&(r.animations.play("sleep",1,!0),C=z)}var r,s,t,u,v,w,x=new Phaser.Game("100%","100%",Phaser.CANVAS,"game-screen",{preload:a,create:b,update:c});const y=0,z=1,A=2,B=3;var C};